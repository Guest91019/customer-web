<!-- <!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ระบบบริษัท - Login</title>
  <script type="module">
    import { register, login, saveRole, getRole, checkAuth } from "./js/app.js";

    const emailEl = document.getElementById("email");
    const passEl = document.getElementById("password");
    const roleSection = document.getElementById("roleSection");

    document.getElementById("registerBtn").addEventListener("click", () => {
      register(emailEl.value, passEl.value).then(userCred => {
        localStorage.setItem("uid", userCred.user.uid);
        roleSection.classList.remove("hidden");
      });
    });

    document.getElementById("saveRoleBtn").addEventListener("click", () => {
      const uid = localStorage.getItem("uid");
      const role = document.getElementById("roleSelect").value;
      saveRole(uid, role).then(() => {
        alert("บันทึกบทบาทสำเร็จ กรุณา login ใหม่");
      });
    });

    document.getElementById("loginBtn").addEventListener("click", () => {
      login(emailEl.value, passEl.value).then(userCred => {
        const uid = userCred.user.uid;
        getRole(uid, (role) => {
          if (role === "employee") location.href = "employee.html";
          if (role === "manager") location.href = "manager.html";
          if (role === "accountant") location.href = "accountant.html";
          if (role === "ceo") location.href = "ceo.html";
        });
      });
    });

    checkAuth(user => {
      if (user) console.log("Logged in:", user.email);
    });
  </script>
  <style>
    .hidden { display: none; }
  </style>
</head>
<body>
  <h2>ระบบบริษัท</h2>
  <input type="email" id="email" placeholder="อีเมล">
  <input type="password" id="password" placeholder="รหัสผ่าน">
  <button id="registerBtn">สมัคร</button>
  <button id="loginBtn">ล็อกอิน</button>

  <div id="roleSection"  >
    <h3>เลือกหน้าที่ของคุณ</h3>
    <select id="roleSelect">
      <option value="employee" style="color:blue;">กรอกข้อมูลลูกค้า</option>
      <option value="manager" style="color:blue;">หัวหน้า</option>
      <option value="accountant" style="color:blue;">บัญชี</option>
      <option value="ceo" style="color:blue;">CEO</option>
    </select>
    <button id="saveRoleBtn">บันทึกบทบาท</button>
  </div>
</body>
</html> -->
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>เพิ่มลูกค้า</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    // ------------------ Firebase Config ------------------
    const firebaseConfig = {
      apiKey: "AIzaSyAjgWD2Px4Fnh5x7dasYBO1uTyMD6HUR0",
      authDomain: "webjj-376d9.firebaseapp.com",
      databaseURL: "https://webjj-376d9-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "webjj-376d9",
      storageBucket: "webjj-376d9.appspot.com",
      messagingSenderId: "717462816877",
      appId: "1:717462816877:web:3e1d003f38ab7c70b29764",
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // ------------------ ฟังก์ชันบันทึก ------------------
    function saveCustomer() {
      const firstname = document.getElementById("firstname").value;
      const lastname = document.getElementById("lastname").value;
      const address = document.getElementById("address").value;
      const date = document.getElementById("date").value;

      if (!firstname || !lastname) {
        alert("กรุณากรอกชื่อและนามสกุล");
        return;
      }

      const newRef = push(ref(db, "customers"));
      set(newRef, {
        firstname: firstname,
        lastname: lastname,
        address: address,
        date: date
      })
      .then(() => {
        alert("บันทึกข้อมูลเรียบร้อย ✅");
        document.getElementById("customerForm").reset();
      })
      .catch((error) => {
        console.error(error);
        alert("เกิดข้อผิดพลาด ❌");
      });
    }

    window.saveCustomer = saveCustomer;
  </script>
</head>
<body>
  <style>
  .container {
    display: flex;
    justify-content: center; /* จัดตำแหน่งรูปภาพในแนวนอนให้อยู่ตรงกลาง */
    height: 100%; /* ทำให้ container มีความสูงเต็มหน้าจอ */
  }
  .headline {
    text-align:center;
  }
  body {
    background-color:#EAD8B1;
    
  }
  
.btn {
  background-color: #6A9AB0;
  border: 3px solid #001F3F;
  color:#001F3F;
  padding: 15px 32px;
  text-align: center;
  font-size: 18px;
  margin: 4px 2px;
  text-decoration: none;
  display: inline-block;
  cursor: pointer;
  border-radius:8px;
}
 .btn:hover {
   background-color: #3a6d8c
 }
  .tarang {
    border: none;
  }
  .tarang:focus {
    outline: none; /* ลบเส้นขอบสีดำที่ปรากฏขึ้นเมื่อคลิก */
    
  }
  .first {
     background-color: #6A9AB0;
  }
  table {
    width: 100%;
    border-collapse: collapse; /* ทำให้เส้นขอบติดกัน */
  }
  th, td {
    border: 3px solid #001F3F; /* เพิ่มเส้นขอบสีเทา */
    padding: 8px; /* เพิ่มระยะห่างภายในช่อง */
    text-align: Center;
  }
  
  input {
    
    background-color: transparent;
    box-sizing: border-box; /* ทำให้ input ไม่ล้นตาราง */
  }
  .mono {
    
  
  text-decoration: none;
  display: inline-block;
  
  
  cursor: pointer;
  }
  .container {
    display: flex;
    justify-content: center; /* จัดตำแหน่งรูปภาพในแนวนอนให้อยู่ตรงกลาง */
    height: 100%; /* ทำให้ container มีความสูงเต็มหน้าจอ */
  }
  .headline {
    text-align:center;
  }
  .input1 {
    display: flex; /* ใช้ Flexbox เพื่อจัดเรียงองค์ประกอบในแนวนอน */
    gap: 20px;    /* เพิ่มระยะห่างระหว่างช่อง */
  }

  .input2 {
    display: flex;
    flex-direction: column; /* จัดให้ข้อความนำและช่องใส่ข้อมูลอยู่ในแนวตั้ง */
  }
  </style>

  <div class="container">
    <img src="Logo.png" alt="Logo" width="189" height="172" ;>
  </div>
<h1 class="headline">บันทึกข้อมูลการซื้อ</h1>
  <form id="customerForm" onsubmit="event.preventDefault(); saveCustomer();">
    <div class="input1">
  <div class="input2">
    <label for="fname"><b>ชื่อ</b></label>
    <input type="text" id="fname" name="firstname">
  </div>
  <div class="input2">
    <label for="lname"><b>นามสกุล</b></label>
    <input type="text" id="lname" name="lastname">
  </div>
  <div class="input2">
    <label for="fname"><b>อาชีพ</b></label>
    <input type="text" id="fname" name="firstname">
  </div>
  <div class="input2">
    <label for="fname"><b>ที่อยู่</b></label>
    <input type="text" id="fname" name="firstname">
  </div>
  <div class="input2">
    <label for="fname"><b>เบอร์</b></label>
    <input type="text" id="fname" name="firstname">
  </div>
</div>
   
  <div id="results" style="margin-top:20px;"></div>

  <form action="/submit-form" method="post">
  <table class="line">
    <thead>
      <tr>
        <th class="first">สินค้า</th>
        <th class="first">จำนวน</th>
        <th class="first">ราคา</th>
        <th class="first">ผ่อน</th>
        <th class="first">เดือนละ</th>
        <th class="first">วันที่</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><input type="text" class="tarang" name="product_name_1" ;></td>
        <td><input type="number" class="tarang" name="quantity_1"></td>
        <td><input type="number" class="tarang" name="price_1"></td>
        <td><input type="number" class="tarang" name="price_1"></td>
        <td><input type="number" class="tarang" name="price_1"></td>
        <td><input type="date" class="tarang" name="price_1"></td>
      </tr>
      <tr>
        <td><input type="text" class="tarang" name="product_name_2"></td>
        <td><input type="number" class="tarang" name="quantity_2"></td>
        <td><input type="number" class="tarang" name="price_2"></td>
        <td><input type="number" class="tarang" name="price_2"></td>
        <td><input type="number" class="tarang" name="price_2"></td>
        <td><input type="date" class="tarang" name="price_2"></td>
      </tr>
      <tr>
        <td><input type="text" class="tarang" name="product_name_3"></td>
        <td><input type="number" class="tarang" name="quantity_3"></td>
        <td><input type="number" class="tarang" name="price_3"></td>
        <td><input type="number" class="tarang" name="price_3"></td>
        <td><input type="number" class="tarang" name="price_3"></td>
        <td><input type="date" class="tarang" name="price_3"></td>
      </tr>
      <tr>
        <td><input type="text" class="tarang" name="product_name_4"></td>
        <td><input type="number" class="tarang" name="quantity_4"></td>
        <td><input type="number" class="tarang" name="price_4"></td>
        <td><input type="number" class="tarang" name="price_4"></td>
        <td><input type="number" class="tarang" name="price_4"></td>
        <td><input type="date" class="tarang" name="price_4"></td>
      </tr>
      <tr>
        <td><input type="text" class="tarang" name="product_name_5"></td>
        <td><input type="number" class="tarang" name="quantity_5"></td>
        <td><input type="number" class="tarang" name="price_5"></td>
        <td><input type="number" class="tarang" name="price_5"></td>
        <td><input type="number" class="tarang" name="price_5"></td>
        <td><input type="date" class="tarang" name="price_5"></td>
      </tr>
      <tr>
        <td><input type="text" class="tarang" name="product_name_6"></td>
        <td><input type="number" class="tarang" name="quantity_6"></td>
        <td><input type="number" class="tarang" name="price_6"></td>
        <td><input type="number" class="tarang" name="price_6"></td>
        <td><input type="number" class="tarang" name="price_6"></td>
        <td><input type="date" class="tarang" name="price_6"></td>
      </tr>
    </tbody>
  </table>
  <br>
  
  <button type="submit" class="btn">ส่งข้อมูล</button>
  
  <a href="https://www.w3schools.com" class="btn">ไปหน้าต่อไป</a>
  </form>
</body>
</html>



<!-- <!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <style>
    body {
      background-color:#E2E2B6;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    .loginBtn {
      background-color: #6EACDA;
      color: #021526;
      font-size: 24px;
      padding: 15px 30px;
      border: none;
    }
    .loginBtn:hover {
    background-color: #03346E;
  }
  </style>
</head>
<body>
  <button class="loginBtn">Login</button>
  <button class="loginBtn">Signin</button>
</body>
  <a href="Manager.html">
    <button>ค้นหา</button>
  </a> -->


  



  <!-- <!DOCTYPE html>
<html>
<head>
<title>Two Centered Buttons</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }

  .button-container {
    display: flex;
    gap: 20px; /* Adds space between the buttons */
  }

  .my-button {
    font-size: 24px; /* Makes the button text larger */
    padding: 15px 30px; /* Increases the button size */
    cursor: pointer;        ---------
    border: none;
    border-radius: 8px;
    background-color: #007BFF;
    color: white;
    transition: background-color 0.3s;
  }

  .my-button:hover {
    background-color: #0056b3;
  }
</style>
</head>
<body>

<div class="button-container">
  <button class="my-button">ปุ่มที่ 1</button>
  <button class="my-button">ปุ่มที่ 2</button>
</div>

</body>
</html> -->


<!-- <!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ค้นหาลูกค้า</title>
  <script type="module">
    // ------------------ Firebase Config ------------------
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getDatabase, ref, get, child } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAjgWD2Px4Fnh5x7dasYBO1uTyMD6HUR0",
  authDomain: "webjj-376d9.firebaseapp.com",
  databaseURL: "https://webjj-376d9-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "webjj-376d9",
  storageBucket: "webjj-376d9.appspot.com",
  messagingSenderId: "717462816877",
  appId: "1:717462816877:web:3e1d003f38ab7c70b29764",
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    // ------------------ ฟังก์ชันค้นหา ------------------
    async function searchData() {
      const keyword = document.getElementById("keyword").value.trim().toLowerCase();
      const dateKeyword = document.getElementById("dateKeyword").value.trim();

      const dbRef = ref(db);
      const snapshot = await get(child(dbRef, "customers")); // customers = ชื่อตาราง
      let resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "";

      if (snapshot.exists()) {
        let customers = snapshot.val();
        let resultArray = Object.values(customers);

        // filter ข้อมูล
        let filtered = resultArray.filter(cust => {
          let matchKeyword = !keyword || (
            (cust.firstname && cust.firstname.toLowerCase().includes(keyword)) ||
            (cust.lastname && cust.lastname.toLowerCase().includes(keyword)) ||
            (cust.address && cust.address.toLowerCase().includes(keyword))
          );

          let matchDate = !dateKeyword || (cust.date && cust.date.includes(dateKeyword));

          return matchKeyword && matchDate;
        });

        // แสดงผล
        if (filtered.length > 0) {
          filtered.forEach((cust, index) => {
            resultsDiv.innerHTML += `
              <div style="border:1px solid #ccc; margin:5px; padding:5px;">
                <b>#${index + 1}</b><br>
                ชื่อ: ${cust.firstname} ${cust.lastname}<br>
                ที่อยู่: ${cust.address}<br>
                วันที่: ${cust.date}
              </div>
            `;
          });
        } else {
          resultsDiv.innerHTML = "<p>ไม่พบข้อมูล</p>";
        }

      } else {
        resultsDiv.innerHTML = "<p>ยังไม่มีข้อมูลในระบบ</p>";
      }
    }

    window.searchData = searchData;
  </script>
</head>
<body>
  <h2>ค้นหาลูกค้า</h2>
  <input type="text" id="keyword" placeholder="พิมพ์ชื่อ / นามสกุล / ที่อยู่">
  <input type="text" id="dateKeyword" placeholder="ค้นหาตามวันที่ (yyyy-mm-dd)">
  <button onclick="searchData()">ค้นหา</button>
  <div id="results" style="margin-top:20px;"></div>
</body>
</html> -->



